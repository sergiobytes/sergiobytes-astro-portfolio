<script is:inline>
  // Detect browser language and set attribute for CSS targeting
  (function () {
    const savedLang = localStorage.getItem("lang");
    const browserLang = navigator.language.split("-")[0];
    const supportedLangs = ["es", "en"];
    
    // Determine language: saved > browser > default
    const detectedLang = savedLang || 
      (supportedLangs.includes(browserLang) ? browserLang : "es");
    
    // Save to localStorage
    localStorage.setItem("lang", detectedLang);
    
    // Set HTML lang attribute immediately
    document.documentElement.setAttribute("lang", detectedLang);
    document.documentElement.setAttribute("data-lang", detectedLang);
  })();
</script>
